\begin{itemize}
\item LTE Lemma
$\nu_p(x^n-y^n)=\nu_p(x-y)+\nu_p(n)$, if $p|x-y$.
$\nu_2(x^n-y^n)=\nu_2(x-y)+\nu_2(n),$ if $4|x-y$.
$\nu_2(x^n-y^n)=\nu_2(x-y)+\nu_2(x+y)+\nu_2(n)-1$, if $2|x-y$ and $n$ is even.
$\nu_p(x^n+y^n)=\nu_p(x+y)+\nu_p(n)$, if $p|x+y$ and $n$ is odd.
$\nu_2(x^n+y^n)=1$, if $2|x+y$ and $n$ is even.
$\nu_2(x^n+y^n)=\nu(x+y)$ if $2|x+y$ and $n$ is odd.

\item Cramer's rule
$$
\begin{aligned}ax+by=e\\cx+dy=f\end{aligned}
\Rightarrow
\begin{aligned}x=\dfrac{ed-bf}{ad-bc}\\y=\dfrac{af-ec}{ad-bc}\end{aligned}
$$

\item Vandermonde's Identity
$$
C(n + m, k) = \sum_{i=0}^k C(n, i)C(m, k - i)
$$

\item Kirchhoff's Theorem

Denote $L$ be a $n \times n$ matrix as the Laplacian matrix of graph $G$, where $L_{ii} = d(i)$, $L_{ij} = -c$ where $c$ is the number of edge $(i, j)$ in $G$.
\begin{itemize}
    %\itemsep-0.5em
    \item The number of undirected spanning in $G$ is $\lvert \det(\tilde{L}_{11}) \rvert$.
    \item The number of directed spanning tree rooted at $r$ in $G$ is $\lvert \det(\tilde{L}_{rr}) \rvert$.
\end{itemize}

\item Tutte's Matrix

Let $D$ be a $n \times n$ matrix, where $d_{ij} = x_{ij}$ ($x_{ij}$ is chosen uniformly at random) if $i < j$ and $(i, j) \in E$, otherwise $d_{ij} = -d_{ji}$. $\frac{rank(D)}{2}$ is the maximum matching on $G$.

\item Cayley's Formula

\begin{itemize}
    %\itemsep-0.5em
  \item Given a degree sequence $d_1, d_2, \ldots, d_n$ for each \textit{labeled} vertices, there are $\frac{(n - 2)!}{(d_1 - 1)!(d_2 - 1)!\cdots(d_n - 1)!}$ spanning trees.
  \item Let $T_{n, k}$ be the number of \textit{labeled} forests on $n$ vertices with $k$ components, such that vertex $1, 2, \ldots, k$ belong to different components. Then $T_{n, k} = kn^{n - k - 1}$.
\end{itemize}

\item Erdős–Gallai theorem 

A sequence of nonnegative integers $d_1\ge\cdots\ge d_n$ can be represented as the degree sequence of a finite simple graph on $n$ vertices if and only if $d_1+\cdots+d_n$ is even and $\displaystyle\sum_{i-1}^kd_i\le k(k-1)+\displaystyle\sum_{i=k+1}^n\min(d_i,k)$ holds for every $1\le k\le n$.

\item Gale–Ryser theorem

A pair of sequences of nonnegative integers $a_1\ge\cdots\ge a_n$ and $b_1,\ldots,b_n$ is bigraphic if and only if $\displaystyle\sum_{i=1}^n a_i=\displaystyle\sum_{i=1}^n b_i$ and $\displaystyle\sum_{i=1}^k a_i\le \displaystyle\sum_{i=1}^n\min(b_i,k)$ holds for every $1\le k\le n$.

\item Fulkerson–Chen–Anstee theorem

A sequence $(a_1,b_1),\ldots,(a_n,b_n)$ of nonnegative integer pairs with $a_1\ge\cdots\ge a_n$ is digraphic if and only if $\displaystyle\sum_{i=1}^n a_i=\displaystyle\sum_{i=1}^n b_i$ and $\displaystyle\sum_{i=1}^k a_i\le \displaystyle\sum_{i=1}^k\min(b_i,k-1)+\displaystyle\sum_{i=k+1}^n\min(b_i,k)$ holds for every $1\le k\le n$.

\item Pick's theorem

For simple polygon, when points are all integer, we have $A=\text{\#\{lattice points in the interior\}} + \frac{\text{\#\{lattice points on the boundary\}}}{2} - 1$.

\item Möbius inversion formula

\begin{itemize}
    %\itemsep-0.5em
  \item $f(n)=\sum_{d\mid n}g(d)\Leftrightarrow g(n)=\sum_{d\mid n}\mu(d)f(\frac{n}{d})$
  \item $f(n)=\sum_{n\mid d}g(d)\Leftrightarrow g(n)=\sum_{n\mid d}\mu(\frac{d}{n})f(d)$
\end{itemize}

\item Spherical cap

\begin{itemize}
    %\itemsep-0.5em
  \item A portion of a sphere cut off by a plane.
  \item $r$: sphere radius, $a$: radius of the base of the cap, $h$: height of the cap, $\theta$: $\arcsin(a/r)$.
  \item Volume $=\pi h^2(3r-h)/3=\pi h(3a^2+h^2)/6=\pi r^3(2+\cos\theta)(1-\cos\theta)^2/3$.
  \item Area $=2\pi rh=\pi(a^2+h^2)=2\pi r^2(1-\cos\theta)$.
\end{itemize}

\item Lagrange multiplier

\begin{itemize}
    %\itemsep-0.5em
  \item Optimize $f(x_1, \ldots, x_n)$ when $k$ constraints $g_i(x_1, \ldots, x_n)=0$.
  \item Lagrangian function $\mathcal{L}(x_1, \ldots, x_n, \lambda_1, \ldots, \lambda_k) = f(x_1, \ldots, x_n) - \sum^{k}_{i=1}\lambda_i g_i(x_1, \ldots, x_n)$.
  \item The solution corresponding to the original constrained optimization is always a saddle point of the Lagrangian function.
\end{itemize}

\item Nearest points of two skew lines

\begin{itemize}
\item $\text{Line 1}: \boldsymbol{v}_1 = \boldsymbol{p}_1 + t_1\boldsymbol{d}_1$
\item $\text{Line 2}: \boldsymbol{v}_2 = \boldsymbol{p}_2 + t_2\boldsymbol{d}_2$
\item $\boldsymbol{n} = \boldsymbol{d}_1\times \boldsymbol{d}_2$
\item $\boldsymbol{n}_1 = \boldsymbol{d}_1 \times \boldsymbol{n}$
\item $\boldsymbol{n}_2 = \boldsymbol{d}_2 \times \boldsymbol{n}$
\item $\boldsymbol{c}_1 = \boldsymbol{p}_1 + \frac{(\boldsymbol{p}_2 - \boldsymbol{p}_1)\cdot\boldsymbol{n}_2}{\boldsymbol{d}_1\cdot\boldsymbol{n}_2}\boldsymbol{d}_1$
\item $\boldsymbol{c}_2 = \boldsymbol{p}_2 + \frac{(\boldsymbol{p}_1 - \boldsymbol{p}_2)\cdot\boldsymbol{n}_1}{\boldsymbol{d}_2\cdot\boldsymbol{n}_1}\boldsymbol{d}_2$
\end{itemize}

\item Derivatives/Integrals

Integration by parts:
\(\int_a^bf(x)g(x)dx = [F(x)g(x)]_a^b-\int_a^bF(x)g'(x)dx\)
{
  \setlength{\tabcolsep}{1pt}
  \setlength{\columnsep}{0pt}

  \noindent
  \begin{tabular}{|*{20}{>{$\displaystyle}c<{$}|}}
    \frac{d}{dx}\sin^{-1} x = \frac{1}{\sqrt{1-x^2}}
    &
    \frac{d}{dx}\cos^{-1} x = -\frac{1}{\sqrt{1-x^2}}
    &
    \frac{d}{dx}\tan^{-1} x = \frac{1}{1+x^2}
    \\
    \frac{d}{dx}\tan x = 1+\tan^2 x
    &
    \int\tan ax = -\frac{\ln|\cos ax|}{a}
    &
    % \int x\sin ax = \frac{\sin ax-ax \cos ax}{a^2}
    % &
    \\
    \int e^{-x^2} = \frac{\sqrt \pi}{2} \text{erf}(x)
    &
    \int xe^{ax} dx = \frac{e^{ax}}{a^2}(ax-1)
    \\
  \end{tabular}
  
  \(
    \displaystyle
    \int \sqrt{a^2 + x^2} = \frac{1}{2} \left(x\sqrt{a^2+x^2} + a^2 \operatorname{asinh}(x/a) \right)
  \)
}

\item Spherical Coordinate

$$
(x, y, z) = (r\sin\theta\cos\phi, r\sin\theta\sin\phi, r\cos\theta) 
$$

$$
(r, \theta, \phi) = (\sqrt{x^2+y^2+z^2}, \textrm{acos}(z/\sqrt{x^2+y^2+z^2}), \textrm{atan2}(y,x)) 
$$

\item Rotation Matrix

$$
M(\theta)=
\begin{bmatrix}
\cos\theta & -\sin\theta\\
\sin\theta & \cos\theta
\end{bmatrix},
R_x(\theta_x)=
\begin{bmatrix}
1 & 0 & 0\\
0 & \cos\theta_x & -\sin\theta_x \\
0 & \sin\theta & \cos\theta
\end{bmatrix}
$$

\item Pell's equation
$x^2-ny^2=1 \Rightarrow $ let $x_1,y_1$ be the smallest solution:
the other solution has the form $x_i+y_i\sqrt{n}=(x_1+y_1\sqrt{n})^i$
($x_1,y_1$ can be found by continuous fraction expansion of $\sqrt{n}$)

\item Lucas' Theorem
$$ 
\binom{n}{i}\equiv \prod_{j=0}^{m}\binom{n_j}{i_j}\pmod{p}
$$
where $a_j$ is a's representation in p-base


\item Cipolla's algorithm
	find $a\Rightarrow (\frac{a^2-n}{p})=-1$(legendre symbol) and calculate $(a+\sqrt{a^2-n})^{(p+1)/2}$ in the field $\mathbb(F)_p(\sqrt{a^2-n})$, that will be a solution.(note: p=2 need to be seperate out)
\end{itemize}

